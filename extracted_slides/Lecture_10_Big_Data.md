# Lecture_10_Big_Data


## Slide 1

### Big Data


## Slide 2

### Learning objectives


Understand “big data” and “platforms” in big data  platforms

Capture	high-level views of big data platforms and  understand the role of big data platforms

Understand key aspects in studying big data  platforms


## Slide 3

### Data: facts, responses, events,  measurements, etc.


Source: Chicago Crime, BigQuery


Source: https://maps.sensor.community/#8/52.917/8.817


Source:  https://www.kaggle.com/cynthiarempel/amazon-us-cu  stomer-reviews-dataset


## Slide 4

### Is it big ?


Source: https://scihub.copernicus.eu/twiki/do/view/SciHubWebPortal/AnnualReport2019


From	earth observation/remote sensing


## Slide 5

### Is it big


Snapshot from: https://data.cityofnewyork.us/Transportation/2018-Yellow-Taxi-Trip-Data/t29m-gskq


e.g., 112M rows (2021 check)


“As of today we have 60  PB of query-able event  data stored in an S3  based data lake and  about 10 PB of raw data  is being scanned every  day using Presto.”
Source: Aug, 2019  https://eng.lyft.com/presto-infrastructu  re-at-lyft-b10adb9db01


## Slide 6

### Is it big?


From a network infrastructure monitoring


5M sensors/monitoring points with
~1.4B events/day~	72GB/day


## Slide 7

### Big Data


Extremely large, complex data sets
they need to be handled with new techniques
Individual data items can be small	or big
e.g., simple sensor events versus high quality  satellite images
Often characterized by V*
e.g., Volume, Variety, Velocity, and Veracity


## Slide 8

### Characterize big data with V*


Volume:
big size, large data set, massive of small data
Variety:
complex, different formats, types of data and their links
Velocity:
generating speed, data movement speed
Veracity:
quality is very different (timeliness, accuracy, etc.)


## Slide 9

### Why do we have big data now?


Social media	data generated by human activities
Meta/Facebook, TikTok, Twitter, Instagram, etc.
Internet of Things (IoT)/Machine-to-Machine (M2M)/Industry 4.0
data generated from monitoring of equipment, infrastructures and  environments
Advanced sciences data generated by advanced instruments
Earth observation from satellites/telescopes (Sentinel, James Webb)
Personal and disease information (e.g., healthcare)
Business-related customer data
Asset management and lodging (e.g., cars, homes)
Software systems (e.g., tracing, logs and test results)


## Slide 10

### Big “operational” and “analytical”  data


Operational data
for business/system operations, reads/writes (update), OLTP  (online transaction processing)
Analytical data
for understanding and optimization of  business/subjects/systems/behaviors, historical/integrated data,  write once/read many (no update) , OLAP (online analytical  processing)
We face both types of data
methods/techniques will be different


## Slide 11

### Why do we need to care?


Because of the values of data!
Current hot: Large-Language models (LLMs)/Gen-AI
Top-down: Data economy
more data ⇒ more insights ⇒ better decision making ⇒ more  business successes
Bottom-up
understanding ⇒ optimizing ⇒ saving cost/creating new  values
“The Unreasonable Effectiveness of Data” principle	⇒ with more  data, the same algorithm performs much better!


Alon Halevy, Peter Norvig, and Fernando Pereira. 2009. The Unreasonable Effectiveness of Data. IEEE Intelligent Systems 24, 2 (March 2009).  http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/35179.pdf


## Slide 12

### What are platforms?


## Slide 13

### Example of platforms


Disruptive platforms: Airbnb, Amazon, Uber,  Alibaba, Instagram, Meta/Facebook,  Youtube, etc.


Let us see from the business viewpoint from “Platform Revolution”:


https://www.amazon.com/Platform-Revolution-Networked-Markets-Transforming/


## Slide 14

### The “Platform Revolution”s definition  of a platform (from a business  viewpoint)


“A platform is a business based on enabling value-creating  interactions between external producers and consumers. The  platform provides an open, participative infrastructure for these  interactions and sets governance conditions for them. The  platform’s overarching purpose: to consummate matches among  users and facilitate the exchange of goods, services, or social  currency, thereby enabling value creation for all participation”


Source: Geoffrey G. Parker, Van Alstyne, Marshall W. Van Alstyne , Sangeet Paul Choudary, Platform Revolution: How Networked Markets Are  Transforming the Economy - and How to Make Them Work for You, March 28, 2016


## Slide 15

### Our interpretation of platforms for big  data


Being large-scale service platforms, e.g.
On-demand computing platforms for data-centric products
On-demand analytics service platforms
On-demand data management platforms
Enabling interactions between big data producers and big  data consumers
Integration, management, analysis, optimization
Facilitating the exchange of big data and products centered  around data
Not just a database or data marketplace (even they are big!)


## Slide 16

### Platforms support data as “asset”  and “product” perspectives


Known views about data
“data as an asset”
“data as a product”
“Data as an asset” (see “Design data governance”)
something is very valuable that must be managed and exploited  for the benefit of the owner
“Data as a product” (see “Data mesh” )
product thinking for how one should process, manage and  produce data to be used and satisfied by the data user


[“Data as an asset”]: Vijay Khatri and Carol V. Brown. 2010. Designing data governance. Commun. ACM 53, 1 (January 2010), 148–152.  https://doi.org/10.1145/1629175.1629210

[“Data as a product”]: Zhamak Dehghani, Data Mesh, 2022


## Slide 17

### Big data platforms


Data-centric services
a lot of data with different types and added continuously
complex governance and technological infrastructures
Extensibility
allowing new services, components to be added and integrated
With diverse types of stakeholders
data consumers, data providers, and data integrators
service consumers, service providers and service integrators
regulators/auditors, etc.


## Slide 18

### Big data platforms:  Onion architecture


Data-centric Virtualized  Infrastructures


Middleware Platforms: building,
 	deploying, operating and  scaling reliable big data  services and applications
Big data services &  applications
Big data platforms
 		consumers and producers:  Sensors, Things, Equipment,  Industrial Processes, People


## Slide 19

### Analytics and big data platforms


In-Store  Realtime Data


Things


Transport  Systems


B2B-B2C
Market Data


....


Core services


Applications


Data Store


Data Ingest


Data  Processing


Data  Query


...


Data sources from


different tenants


The core part of Big  Data Platforms


Consuming  applications


Data Analytics  Algorithms/Pipelines
Algorithms & Pipelines


Applications


Other (big data)  Platforms  &Services


## Slide 20

### Core principles/techniques for Big  Data Platforms


Programming  models, languages  and frameworks


Provisioning,  automation and  analytics
Processes


(Service-based)  Large-scale  computing  Platforms


Data management  models,  languages,tools, and  methodologies


You


(“the big data  platform  expert“)


## Slide 21

### Focuses in studying big data  platforms


Design/Development vs Operation

Data-centric vs Service-centric vs Platform-centric activities

High-level SQL-style analytics vs programmatic data  processing models and workflows/processes

Quality and governance


## Slide 22

### Target goals for the study


As a user: able to use and program atop big data  platforms

As a provider: able to operate big data platforms

As a designer/architect: able to design new (solutions  for) big data platforms

As a developer: able to develop services/applications  in big data platforms


## Slide 23

### Business models vs data platform  engineering


Distinguish between engineering  and business models


Engineering: design, operation and  governance
Business models: stakeholder  management, pay-per-use, pricing,  tenant models


We mainly focus on engineering
Business aspects are reflected in  requirements for the engineering


Business Models


Engineering  Solutions


## Slide 24

### Concepts/techniques vs  Technologies


Concepts/Techniques versus Technologies
concepts: e.g., NoSQL data models, sharding techniques,  coordination for scalable datastores
technologies: e.g., Cassandra, Hadoop, Apache Spark, Airflow
We still focus mainly on concepts/techniques
technologies can be very complex or “everything is behind an API”
but don’t forget key concepts and techniques
implement key concepts with state-of-the-art technology in a  limited but realistic scenarios


## Slide 25

### Services/Platforms  Design


Data  Integration/Management


Data  Analytics/Processing


Data  Governance and  Quality of  Analytics


Build “Your own  Big Data Platform”


Build your  story


Core  concepts,  methods and  technologies


Focus on foundations &  explore your  strengths/interests


## Slide 26

### Design and implementation mainly  reflect activities of platform  developers/providers in the lifecycle  of	a big data platform based on
real-world data sets and scenarios


## Slide 27

### Example of a typical big data  machine learning pipeline (hot area!)


Data  Collection


Pre-processing


Training


Inference


Big data storage/ingestion
Big data	processing


## Slide 28

### “No AI Without Data”


Figure source: There Is No AI Without Data, by Christoph Gröger, Communications of the ACM, November  2021, Vol. 64 No. 11, Pages 98-108, 0.1145/3448247


## Slide 29

### Big data processing in our story: we  are not just “data scientist” or BA


User (scientists, engineers)	Provider	User (business analyst)

Our learning goals: tasks in systems and applications
Understand the user/developer needs
Understand how to build platforms to support the  users/developers


Machine Learning  with Jupyter  Notebook


Big Data	 	 Business Intelligence  Platform			with Dashboard


## Slide 30

### Using  Jupyter  Notebook  to do data  analytics


## Slide 31

### Business intelligence analytics style  with Superset


Data source: network  data from Mobifone,  Vietnam


## Slide 32

### Related concepts/techniques


Distributed systems and cloud computing
Virtualized environments and cloud deployment, concurrency,  consistency/availability/fault management, application protocols
Databases and data management
Data modeling, ETL/data pipeline, data partitioning, databases
Algorithms and programming models
Parallel/concurrent programming, workflows, streaming processing
Service and software engineering
Service engineering & microservices

Basics of big data


## Slide 33

### Summary: the importance of big data  platforms


Foundations and backbones for various “hot”  research/development areas
LLMs/Machine Learning/AI
Data management, feature storage, data preparation pipelines, …
Data Science
Data and data management, computational models, statistics and algorithm
Enterprise computing
360-degree analytics of customers
Industrial IoT/Manufacturing/Predictive maintenance
Monitor machines and optimizing machines through real-time and predictions
Smart cities and sustainability


## Slide 34

### Summary: the importance of big data  platforms for industries and businesses


Wide range application domains
Business, healthcare, manufacturing, sustainability, and science
Examples of key industries for infrastructural and platform  services for big data
Amazon, Microsoft, Google, IBM, Alibaba, Huawei, Snowflake,  Databricks, etc.
Big data and large-scale data analytics are fundamental in  most companies/organizations doing	digital business


## Slide 35

### Your big data platform story - an  evolving scenario


“Your team has to build a big data platform for X types of  data. Data will be generated/collected from N data sources.  We expect to have	10+ GBs/day	of data to be ingested into  our platform. We will have to serve K thousands of requests  for	different types of analytics – to be determined. Our  response time for an analytics request should be	in t  milliseconds. Our services should not be …”


## Slide 36

### You may have several questions?


Do we have to support multiple types of data?
How do data pipelines and data load look like?
How to enable different data processing models?
Which runtime parameters must be monitored? Which  service level and data metrics must be guaranteed?
To where we should distribute/deploy our components?
Which part of the platform we must manage by ourselves and  which part will be fully managed	by other providers?
How to design elastic big data infrastructures?
Etc.


## Slide 37

### Your Big Data Platform story starts  with Big Data Platform architectures!


To architect the platform  centered around big data and  data intensive activities!


## Slide 38

### Underlying computing infrastructures  is for data intensive tasks


Computing resources and services
many machines, virtual infrastructures, different types of services
Distributed infrastructures from different administrative  domains
in multiple data centers, locations and countries
with different security and network policies
Diverse service level objectives (SLO) and service level  agreements (SLAs)
performance, service failure, cost, privacy/security …
data and data governance


## Slide 39

### Node


Data Center dcn


Rack 1


Rack R


Understanding the underlying  infrastructures for big data platforms


several data intensive tasks are optimized with rack/topology awareness


Node


Data  partition


Task


Task


Physical


MachPinheysical


Machine


Node


Node


Data Center dc1  (on-premise)


Data Center dc2


Node


Node


Data  partition


large-scale distributed infrastructures ⇒ hybrid and or multi cloud/edge


## Slide 40

### Data-centric development & operations


Data ingestion and ETL (Extract, Transform, Load)
from various data sources we move data into the platform
Data storing and management
ingested data stored and managed using different types of storages and databases
Data analysis and (Machine) learning
data processed, analyzed and learned, finding insights and creating ML models
data at rest vs data in motion
Reporting and visualization
patterns/insights in data will be interpreted and presented for making decisions,  reporting, and creating stories

Data Governance at very large-scale


## Slide 41

### Big Data Pipelines


Multiple big data pipelines can be constructed atop a big data  platform (and across distributed infrastructures)


Big Data Platform


Data Store


Data  source


Ingestion


Machine	 	
Learning


Visualization


Data Store  (raw data)


Data  source


Ingestion


Data  Analysis


Data Store
(analytical,  resulting data)


## Slide 42

### Handling multiple types of data


Hardly to avoid the support for multiple types of data
tenant requirements and application needs, given data as  “products”/”assets”
Multiple types of data
different characteristics and values
Any elastic solution that ensures	minimum changes to  support generalization and extensibility
multi-model databases, microservices of multiple of databases or  data lake
new workloads, new types of customers


## Slide 43

### Data governance: concerns & SLAs


Key common problems:
data quality, data lineage,
Ingesting data: ingestion of data under V*
mapping and transforming data, data validation/quality control
Storing data
data sharding and consistency, data backup, retention, etc.
the impact of the rights to remove data
SLA multitenancy versus single tenancy
security, privacy, performance, reliability and maintenance?
The volume of data is increasing but its usefulness may not because  of the bad data quality


## Slide 44

### Data concerns: example


data


....	Analysis


....


result


Located in  US/China?


free?


price?


redistribution?


Service  quality?  data lineage


Ingestion, Querying, Data Management, etc.

Quality of data?


Privacy  problem?


Ethical consequences?
Regulation-compliant platforms: e.g., GDPR


## Slide 45

### Fast/slow reliable processing


big data but not near real-time, e.g.,	take customer transaction  files from companies and move to data centers for analytics


Data  Store


Data


source


Ingestion


Batch Processing


Visualization


Data	 		Message   	
source	Broker


Streaming	 	
Processing


Visualization


fast, small IoT data in near real-time flows, e.g. position of cars


## Slide 46

### Software services design goals


For dealing with V*

Responsive: guarantee quality of services
Resilient: deal within failures
Elastic: deal with different workload and quality of  analytics
Loosely coupling: support reusability, composition,  and extensibility


## Slide 47

### Designs must address various  aspects for big data


Responsive:
distributed computing, multi layer optimization


Resilient:


replication, containment, isolation
Elastic:
sharding, replication, load balancing, scale up/out
Message-driven:
loosely coupling with messages, non-blocking  protocols, location-independent


Reactive systems


Source: https://www.reactivemanifesto.org/


Respon  sive


Resilient


Message-  Driven


Elastic


## Slide 48

### Efficiency and sustainability


Highly efficient might not be good for sustainability
Sustainability within big data platforms
energy consumption, reusability, extensibility
Design and implementation


Reliability
Resilience
Elasticity


Sustainability


How to  have it for


Sus.  goal


Platform  design


Concrete  techniques


Verification


## Slide 49

### Distributed systems of  components are used to manage,  ingest data and process data


## Slide 50

### Partitioning: splitting functionality &  data


Breakdown the complexity
easy to implement, replace and compose
deal with performance, scalability, security, etc.
support teams in DevOps
cope with technology changes
Many things are related to the current trend of  microservices and domain-driven designs
But tradeoffs with management w.r.t data resources


## Slide 51

### Example of functional and data  partitioning
Service-oriented  components


Figure source: http://queue.acm.org/detail.cfm?id=1971597


Microservices and  domain-oriented  microservices for  data


Serverless  functions/function  as-a service


## Slide 52

### Example of functional and data  partitioning


Data sharding
Multi data spaces  Multi data services

Multiple data  infrastructures
Figure source: http://queue.acm.org/detail.cfm?id=1971597


## Slide 53

### Interaction: multiple models


Protocols
REST, gRPC, Message Passing, Stream-oriented Communication
Models
One-to-many, many-to-one, many-to-many
Synchronous/asynchronous calls
Internal data exchange versus open/external exchange


Internal  Client


Data  Service


put


Client	Client
get	delete


function  Trigger


Data  Producer


Transformer


Analyzer


Ingestor


Messaging    	
Systems


Amazon S3/MongoDB


## Slide 54

### Coordination: Orchestration and  Reactiveness/Choreography


Analytics


Energy Optimization  Analytics
Sensor Data


Emergency Service


Equipment Predictive  Maintenance Forecasting


Sensors


Broker


Near Realtime  Analysis/ML


Historical Time series  Data Archiving


Reactiveness/  Choreography


Orchestration


## Slide 55

### Distribution:	Edge or Data Centers?


Big data & components  components can be distributed  in different places!
- performance, security, regulation, energy  efficiency
Global deployment or not?
Move analytics/work or move  data?


An outage can lead to a huge problem. Example:  https://www.thousandeyes.com/blog/aws-outage-analysis-dec-7-2021


Map of AWS infrastructure (08.01.2022)
Source: https://aws.amazon.com/about-aws/global-infrastructure/


Platform A	Platform B


## Slide 56

### Scalability & elasticity


Figure source: Presto: SQL on Everything  https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=87315  47&tag=1


Figure and text source:
https://eng.lyft.com/presto-infrastructure-at-lyft-b10adb9db01


“As of today we have 60 PB of query-able  event data stored in an S3 based data lake  and about 10 PB of raw data is being  scanned every day using Presto”


Lyft Presto Gateway


Presto: https://prestodb.io/


## Slide 57

### API for Platform as a Service


RawData


Analytics


Notification


APIs are key! Why?


enable customers access  to data and analysis  functions from your big  data platforms without  worrying about changes  within your platforms


enable virtualization and  management (hide internal,  control access, throttling)
establish protocols for data  exchanges


A  P  I


## Slide 58

### Delivery data as “asset”/”product”


FAIR principles  (https://www.nature.com/articles/sdata201618)
Findable, Accessible, Interoperable and Reusable
Product/asset characteristics
Consequences for the platform
Metadata and governance
Service-level objectives and quality controls for data
Search
Access control policies


## Slide 59

### Common, high-level architecture  view with popular state-of-the art  technologies for our study


## Slide 60

### Your big  platform  suggested by  ChatGPT


dated: 03.12.2022


## Slide 61

### Our big data at large-scale: the big


picture in this course


Data sources  (sensors, files,  database, queues, log  services)


Messaging/Ingest systems  (e.g., Kafka, Pulsar,  AMQP, MQTT, Kinesis,  Nifi, Google PubSub,  Azure IoT Hub)


Storage/Database/Data Lake  (S3, Minio, HDFS, CockroachDB,  Cassandra, MongoDB, Elastic
Search, InfluxDB, Druid, Hudi, etc.)


Batch data processing/ML  systems
(e.g., Hadoop, Airflow, Spark)


Stream processing/ML  systems
(e.g. Flink, Kafka KSQL,  Spark, Redpanda,  Google Dataflow)


Elastic Cloud Infrastructures
(VMs, dockers, Kubernetes, OpenStack elastic resource management tools, storage)


Warehouse Analytics  (e.g., Presto, Kylin,  BigQuery,Redshift)


Operation/Management/  Business Services
